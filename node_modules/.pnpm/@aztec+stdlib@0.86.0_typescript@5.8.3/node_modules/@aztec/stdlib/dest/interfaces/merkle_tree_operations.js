import { createLogger } from '@aztec/foundation/log';
/**
 * Outputs a tree leaves using for debugging purposes.
 */ export async function inspectTree(db, treeId, log = createLogger('types:inspect-tree')) {
    const info = await db.getTreeInfo(treeId);
    const output = [
        `Tree id=${treeId} size=${info.size} root=0x${info.root.toString('hex')}`
    ];
    for(let i = 0; i < info.size; i++){
        output.push(` Leaf ${i}: ${await db.getLeafValue(treeId, BigInt(i)).then((x)=>x?.toString('hex') ?? '[undefined]')}`);
    }
    log.info(output.join('\n'));
}
