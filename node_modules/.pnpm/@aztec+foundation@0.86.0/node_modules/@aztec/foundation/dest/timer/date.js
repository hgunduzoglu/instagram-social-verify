import { createLogger } from '../log/pino-logger.js';
/** Returns current datetime. */ export class DateProvider {
    now() {
        return Date.now();
    }
}
/** Returns current datetime and allows to override it. */ export class TestDateProvider {
    logger;
    offset;
    constructor(logger = createLogger('foundation:test-date-provider')){
        this.logger = logger;
        this.offset = 0;
    }
    now() {
        return Date.now() + this.offset;
    }
    setTime(timeMs) {
        this.offset = timeMs - Date.now();
        this.logger.warn(`Time set to ${new Date(timeMs).toISOString()}`, {
            offset: this.offset,
            timeMs
        });
    }
}
