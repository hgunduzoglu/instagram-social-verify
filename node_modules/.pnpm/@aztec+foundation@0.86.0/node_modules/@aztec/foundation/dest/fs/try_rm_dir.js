import { rm } from 'fs/promises';
export async function tryRmDir(dir, logger) {
    if (dir === undefined) {
        return;
    }
    try {
        logger?.debug(`Cleaning up directory at ${dir}`);
        await rm(dir, {
            recursive: true,
            force: true,
            maxRetries: 3
        });
    } catch (err) {
        logger?.warn(`Failed to delete directory at ${dir}: ${err}`);
    }
}
