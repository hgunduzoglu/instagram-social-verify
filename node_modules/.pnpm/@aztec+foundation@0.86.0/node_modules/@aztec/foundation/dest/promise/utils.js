/**
 * A polyfill for the Promise.withResolvers proposed API.
 * @see https://github.com/tc39/proposal-promise-with-resolvers
 * @returns A promise with resolvers.
 */ export function promiseWithResolvers() {
    // use ! operator to avoid TS error
    let resolve;
    let reject;
    // the ES spec guarantees that the promise executor is called synchronously
    // so the resolve and reject functions will be defined
    const promise = new Promise((res, rej)=>{
        resolve = res;
        reject = rej;
    });
    return {
        promise,
        resolve,
        reject
    };
}
